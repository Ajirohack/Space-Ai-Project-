!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="eba7b352-a20c-4aba-a18b-520ebc616260",e._sentryDebugIdIdentifier="sentry-dbid-eba7b352-a20c-4aba-a18b-520ebc616260")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[937],{70301:function(e,n,t){t.d(n,{g:function(){return a}});let a=Object.values({POSTGRES_URL:{key:"POSTGRES_URL",type:"encrypted"},POSTGRES_PRISMA_URL:{key:"POSTGRES_PRISMA_URL",type:"encrypted"},POSTGRES_URL_NON_POOLING:{key:"POSTGRES_URL_NON_POOLING",type:"encrypted"},POSTGRES_USER:{key:"POSTGRES_USER",type:"encrypted"},POSTGRES_HOST:{key:"POSTGRES_HOST",type:"encrypted"},POSTGRES_PASSWORD:{key:"POSTGRES_PASSWORD",type:"encrypted"},POSTGRES_DATABASE:{key:"POSTGRES_DATABASE",type:"encrypted"},SUPABASE_ANON_KEY:{key:"SUPABASE_ANON_KEY",type:"encrypted"},SUPABASE_URL:{key:"SUPABASE_URL",type:"encrypted"},SUPABASE_SERVICE_ROLE_KEY:{key:"SUPABASE_SERVICE_ROLE_KEY",type:"encrypted"},SUPABASE_JWT_SECRET:{key:"SUPABASE_JWT_SECRET",type:"encrypted"},NEXT_PUBLIC_SUPABASE_ANON_KEY:{key:"NEXT_PUBLIC_SUPABASE_ANON_KEY",type:"encrypted"},NEXT_PUBLIC_SUPABASE_URL:{key:"NEXT_PUBLIC_SUPABASE_URL",type:"encrypted"}}).map(e=>e.key)},35716:function(e,n,t){t.d(n,{e:function(){return c}});var a=t(36457),r=t(64618),i=t(34549),s=t(64472),o=t(17491);async function l(e){let{id:n,branchName:t,gitBranch:a,persistent:r}=e,{data:i,error:o}=await (0,s.r$)("/v1/branches/{branch_id}",{params:{path:{branch_id:n}},body:{branch_name:t,git_branch:a,persistent:r}});return o&&(0,s.S3)(o),i}let c=function(){let{onSuccess:e,onError:n,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,a.NL)();return(0,r.D)(e=>l(e),{async onSuccess(n,t,a){let{projectRef:r}=t;await s.invalidateQueries(o.x.list(r)),await (null==e?void 0:e(n,t,a))},async onError(e,t,a){void 0===n?i.Am.error("Failed to update branch: ".concat(e.message)):n(e,t,a)},...t})}},72070:function(e,n,t){t.d(n,{T:function(){return o}});var a=t(28894),r=t(64472),i=t(21119);async function s(e,n){let{orgSlug:t}=e;if(!t)throw Error("orgSlug is required");let{data:a,error:i}=await (0,r.U2)("/platform/integrations/{slug}",{params:{path:{slug:t}}});return i&&(0,r.S3)(i),a}let o=function(e){let{orgSlug:n}=e,{enabled:t=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.a)(i.F.integrationsListWithOrg(n),e=>{let{signal:t}=e;return s({orgSlug:n},t)},{enabled:t&&void 0!==n,...r})}},40813:function(e,n,t){t.d(n,{K:function(){return d}});var a=t(36457),r=t(64618),i=t(34549),s=t(64472),o=t(51778),l=t(21119);async function c(e){let{organizationIntegrationId:n,connection:t}=e,{data:a,error:r}=await (0,s.v_)("/platform/integrations/vercel/connections",{body:{organization_integration_id:n,connection:{foreign_project_id:t.foreign_project_id,supabase_project_ref:t.supabase_project_ref,metadata:t.metadata}}});return r&&(0,s.S3)(r),a}let d=function(){let{onSuccess:e,onError:n,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,a.NL)(),d=(0,o.IF)();return(0,r.D)(e=>c(e),{async onSuccess(n,t,a){await Promise.all([s.invalidateQueries(l.F.integrationsList()),s.invalidateQueries(l.F.integrationsListWithOrg(t.orgSlug)),s.invalidateQueries(l.F.vercelProjectList(t.organizationIntegrationId)),s.invalidateQueries(l.F.vercelConnectionsList(t.organizationIntegrationId))]),await (null==e?void 0:e(n,t,a))},async onError(e,t,a){d.setLoading(!1),void 0===n?i.Am.error("Failed to create connection: ".concat(e.message)):n(e,t,a)},...t})}},11001:function(e,n,t){t.d(n,{t:function(){return o}});var a=t(28894),r=t(64472),i=t(21119);async function s(e,n){let{organization_integration_id:t}=e;if(!t)throw Error("organization_integration_id is required");let{data:a,error:i}=await (0,r.U2)("/platform/integrations/vercel/projects/{organization_integration_id}",{params:{path:{organization_integration_id:t},query:{limit:"1000"}},signal:n});return i&&(0,r.S3)(i),a.projects}let o=function(e){let{organization_integration_id:n}=e,{enabled:t=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.a)(i.F.vercelProjectList(n),e=>{let{signal:t}=e;return s({organization_integration_id:n},t)},{enabled:t&&void 0!==n,...r})}},51778:function(e,n,t){t.d(n,{IF:function(){return s}});var a=t(28622),r=t(34653);let i=(0,a.sj)({loading:!1,setLoading:e=>{i.loading=e}}),s=e=>(0,r.R)(i,e)},54434:function(e,n,t){t.d(n,{z:function(){return N}});var a=t(97458),r=t(12636),i=t(37905),s=t(12708),o=t(33378),l=t(89462),c=t.n(l),d=t(82943),u=t(52983),m=t(34549),f=t(90635),x=t(61802),p=t(64618),h=t(64472);async function g(e){let{connectionId:n}=e,{data:t,error:a}=await (0,h.v_)("/platform/integrations/vercel/connections/{connection_id}/sync-envs",{params:{path:{connection_id:n}}});return a&&(0,h.S3)(a),t}let v=function(){let{onSuccess:e,onError:n,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,p.D)(e=>g(e),{async onSuccess(n,t,a){await (null==e?void 0:e(n,t,a))},async onError(e,t,a){void 0===n?m.Am.error("Failed to sync environment variables: ".concat(e.message)):n(e,t,a)},...t})};var b=t(50873),y=t(34814),j=t(94997),S=t(58614),_=t(7611);let N=(0,u.forwardRef)((e,n)=>{let{disabled:t,onDeleteConnection:l,...p}=e,h=(0,d.useRouter)(),g=(0,_.l)(),{type:N,connection:w}=p,{data:C}=(0,b.Sy)(),P=null==C?void 0:C.find(e=>e.ref===w.supabase_project_ref),k=(null==P?void 0:P.is_branch_enabled)===!0,[I,E]=(0,u.useState)(!1),[A,V]=(0,u.useState)(!1),[L,R]=(0,u.useState)(!1),F=(0,u.useCallback)(async()=>{try{V(!0),await l(w)}catch(e){}finally{V(!1),E(!1)}},[w,l]),O=(0,u.useCallback)(()=>{E(!1)},[]),{mutate:T,isLoading:z}=v({onSuccess:()=>{m.Am.success("Successfully synced environment variables"),R(!1)}}),U=(0,u.useCallback)(async()=>{T({connectionId:w.id})},[w,T]),G="/project/[ref]/settings/integrations";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.jA,{showNode:!1,actions:t?(0,a.jsx)(x.u,{disabled:!0,iconRight:(0,a.jsx)(r.Z,{size:14}),type:"default",tooltip:{content:{side:"bottom",text:"You need additional permissions to manage this connection"}},children:"Manage"}):(0,a.jsxs)(y.h_,{open:L,onOpenChange:()=>R(!L),modal:!1,children:[(0,a.jsx)(y.$F,{asChild:!0,children:(0,a.jsx)(j.z,{iconRight:(0,a.jsx)(r.Z,{size:14}),type:"default",children:(0,a.jsx)("span",{children:"Manage"})})}),(0,a.jsxs)(y.AW,{side:"bottom",align:"end",children:[h.pathname!==G&&(0,a.jsx)(y.Xi,{asChild:!0,children:(0,a.jsx)(c(),{href:G.replace("[ref]",w.supabase_project_ref),children:"Configure connection"})}),"Vercel"===N&&(null==g?void 0:g.managed_by)!=="vercel-marketplace"&&(0,a.jsxs)(y.Xi,{className:"space-x-2",onSelect:e=>{e.preventDefault(),U()},disabled:z,children:[z?(0,a.jsx)(i.Z,{className:"animate-spin",size:14}):(0,a.jsx)(s.Z,{size:14}),(0,a.jsx)("p",{children:"Resync environment variables"})]}),("Vercel"===N&&(null==g?void 0:g.managed_by)!=="vercel-marketplace"||h.pathname!==G)&&(0,a.jsx)(y.VD,{}),(0,a.jsxs)(y.Xi,{className:"space-x-2",onSelect:()=>E(!0),children:[(0,a.jsx)(o.Z,{size:14}),(0,a.jsx)("p",{children:"Delete connection"})]})]})]}),...p}),(0,a.jsx)(S.Z,{variant:"destructive",size:"GitHub"===N&&k?"medium":"small",visible:I,title:"Confirm to delete ".concat(N," connection"),confirmLabel:"Delete connection",onCancel:O,onConfirm:F,loading:A,alert:"GitHub"===N&&k?{title:"Branching will be disabled for this project",description:" Deleting this GitHub connection will remove all preview branches on this project,\n                and also disable branching for ".concat(P.name)}:void 0,children:(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:["This action cannot be undone. Are you sure you want to delete this ",N," connection?"]})})]})});N.displayName="IntegrationConnectionItem"},33186:function(e,n,t){var a=t(97458),r=t(64038),i=t.n(r),s=t(52983),o=t(34549),l=t(54580),c=t(70301),d=t(72025),u=t(3064),m=t(26355),f=t(72070),x=t(40813),p=t(11001),h=t(50873),g=t(7611),v=t(73614),b=t(65254),y=t(28548),j=t(70757);let S=(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 512 512",className:"w-6",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M256,48,496,464H16Z"})});n.Z=()=>{let{ref:e}=(0,l.UO)(),n=(0,g.l)(),t=(0,y.x5)(),r=t.vercelConnectionsIntegrationId,{data:_}=(0,f.T)({orgSlug:null==n?void 0:n.slug}),N=null==_?void 0:_.filter(e=>"Vercel"===e.integration.name),w=null==N?void 0:N.find(e=>e.id===r),{data:C}=(0,h.Sy)({enabled:void 0!==r}),P=(0,s.useMemo)(()=>{var e;return null!==(e=null==C?void 0:C.filter(e=>e.organization_id===(null==n?void 0:n.id)).map(e=>({name:e.name,ref:e.ref})))&&void 0!==e?e:b.Z6},[null==n?void 0:n.id,C]),{data:k}=(0,p.t)({organization_integration_id:r},{enabled:void 0!==r}),I=(0,s.useMemo)(()=>null!=k?k:b.Z6,[k]),E=(0,s.useMemo)(()=>i()(I,"id"),[I]),A=(0,s.useCallback)(e=>{let n=E[e.id];return(null==n?void 0:n.framework)?(0,a.jsx)("img",{src:"".concat(v.GW,"/img/icons/frameworks/").concat(n.framework,".svg"),width:21,height:21,alt:"icon"}):m.B},[E]),{mutate:V,isLoading:L}=(0,x.K)({async onSuccess(e){let{env_sync_error:n}=e;n&&o.Am.error("Failed to sync environment variables: ".concat(n.message,". Please try re-syncing manually from settings.")),t.setVercelConnectionsOpen(!1)}}),R=(0,s.useCallback)(e=>{V({...e,connection:{...e.connection,metadata:{...e.connection.metadata,supabaseConfig:{projectEnvVars:{write:!0}}}}})},[V]);return(0,a.jsx)(j.ZP,{hideFooter:!0,size:"large",header:"Add new Vercel project connection",visible:t.vercelConnectionsOpen,onCancel:()=>t.setVercelConnectionsOpen(!1),"data-sentry-element":"SidePanel","data-sentry-component":"SidePanelVercelProjectLinker","data-sentry-source-file":"SidePanelVercelProjectLinker.tsx",children:(0,a.jsxs)("div",{className:"py-6 flex flex-col gap-6 bg-studio h-full",children:[(0,a.jsx)(j.ZP.Content,{"data-sentry-element":"unknown","data-sentry-source-file":"SidePanelVercelProjectLinker.tsx",children:(0,a.jsx)(u.U,{content:"\n### Choose repository to connect to\n\nCheck the details below before proceeding\n          ","data-sentry-element":"Markdown","data-sentry-source-file":"SidePanelVercelProjectLinker.tsx"})}),(0,a.jsxs)(j.ZP.Content,{className:"flex flex-col gap-2","data-sentry-element":"unknown","data-sentry-source-file":"SidePanelVercelProjectLinker.tsx",children:[(0,a.jsx)(d.Z,{defaultSupabaseProjectRef:e,organizationIntegrationId:null==w?void 0:w.id,foreignProjects:I,supabaseProjects:P,onCreateConnections:R,installedConnections:null==w?void 0:w.connections,isLoading:L,integrationIcon:S,getForeignProjectIcon:A,choosePrompt:"Choose Vercel Project",mode:"Vercel","data-sentry-element":"ProjectLinker","data-sentry-source-file":"SidePanelVercelProjectLinker.tsx"}),(0,a.jsx)(u.U,{content:"\nThe following environment variables will be added:\n\n".concat(c.g.map(e=>"\n - `".concat(e,"`")),"\n"),"data-sentry-element":"Markdown","data-sentry-source-file":"SidePanelVercelProjectLinker.tsx"})]}),(0,a.jsx)(j.ZP.Content,{"data-sentry-element":"unknown","data-sentry-source-file":"SidePanelVercelProjectLinker.tsx",children:(0,a.jsx)("ul",{children:(0,a.jsx)("li",{className:"border px-10"})})})]})})}},43826:function(e,n,t){t.d(n,{B:function(){return et},Z:function(){return ea}});var a=t(97458),r=t(89462),i=t.n(r),s=t(94653),o=t(33186),l=t(97847),c=t(14612),d=t(73614),u=t(8607),m=t(82634),f=t(40540),x=t(52983),p=t(34549),h=t(54580),g=t(54434),v=t(90635),b=t(3064),y=t(50918),j=t(27765),S=t(77785),_=t(29375),N=t(7611),w=t(28548),C=t(52585),P=t(85553),k=t(12636),I=t(9029),E=t(87699),A=t(50422),V=t(86848),L=t(5394),R=t(35716),F=t(95466),O=t(28894),T=t(64472),z=t(21119);async function U(e,n){let{connectionId:t}=e;if(!t)throw Error("connectionId is required");let{data:a,error:r}=await (0,T.U2)("/platform/integrations/github/branches/{connectionId}",{params:{path:{connectionId:t}},signal:n});return r&&(0,T.S3)(r),a}let G=function(e){let{connectionId:n}=e,{enabled:t=!0,...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,O.a)(z.F.githubBranchesList(n),e=>{let{signal:t}=e;return U({connectionId:n},t)},{enabled:t&&void 0!==n,...a})};var D=t(36457),B=t(64618);async function Z(e,n){let{connectionId:t,workdir:a,supabaseChangesOnly:r,branchLimit:i}=e,{data:s,error:o}=await (0,T.r$)("/platform/integrations/github/connections/{connection_id}",{params:{path:{connection_id:String(t)}},signal:n,body:{workdir:a,supabase_changes_only:r,branch_limit:i}});return o&&(0,T.S3)(o),s}let H=function(){let{onSuccess:e,onError:n,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,D.NL)();return(0,B.D)(e=>Z(e),{async onSuccess(n,t,r){await Promise.all([a.invalidateQueries(z.F.githubConnectionsList(t.organizationId))]),await (null==e?void 0:e(n,t,r))},async onError(e,t,a){void 0===n?p.Am.error("Failed to update Github connection: ".concat(e.message)):n(e,t,a)},...t})};var X=t(55204),W=t(1973),M=t(94997),K=t(53355),Y=t(88990),J=t(1006),Q=t(21758),q=t(94823),$=e=>{var n,t,r,i,s,o,l,d,h,g,v,b,y,j,S,w;let{disabled:O,connection:T}=e,z=(0,N.l)(),U=(0,c.Vm)(),[D,B]=(0,x.useState)(!1),Z=(0,x.useRef)(null),$=(null==U?void 0:U.is_branch_enabled)===!0||(null==U?void 0:U.parent_project_ref)!==void 0,ee=(0,_.Xo)(f.KA.UPDATE,"integrations.github_connections"),{data:en,isLoading:et}=G({connectionId:Number(T.id)},{enabled:$}),{mutate:ea,isLoading:er}=H({onSuccess:()=>p.Am.success("Successfully updated connection settings")}),{mutate:ei,isLoading:es}=(0,R.e)({onSuccess:e=>{p.Am.success("Successfully updated production branch to ".concat(e.git_branch)),B(!1)}}),{data:eo}=(0,F.V)({projectRef:null==U?void 0:U.parentRef},{enabled:void 0!==U}),el=null==eo?void 0:eo.find(e=>e.is_default),ec=L.Ry({supabaseDirectory:L.Z_().default(null!==(j=null===(t=T.metadata)||void 0===t?void 0:null===(n=t.supabaseConfig)||void 0===n?void 0:n.supabaseDirectory)&&void 0!==j?j:""),supabaseChangesOnly:L.O7().default(null!==(S=null===(i=T.metadata)||void 0===i?void 0:null===(r=i.supabaseConfig)||void 0===r?void 0:r.supabaseChangesOnly)&&void 0!==S&&S),branchLimit:L.Z_().default(String(null!==(w=null===(o=T.metadata)||void 0===o?void 0:null===(s=o.supabaseConfig)||void 0===s?void 0:s.branchLimit)&&void 0!==w?w:50))}),ed=(0,V.cI)({resolver:(0,C.F)(ec),defaultValues:{supabaseDirectory:null==T?void 0:null===(d=T.metadata)||void 0===d?void 0:null===(l=d.supabaseConfig)||void 0===l?void 0:l.supabaseDirectory,supabaseChangesOnly:null==T?void 0:null===(g=T.metadata)||void 0===g?void 0:null===(h=g.supabaseConfig)||void 0===h?void 0:h.supabaseChangesOnly,branchLimit:String(null==T?void 0:null===(b=T.metadata)||void 0===b?void 0:null===(v=b.supabaseConfig)||void 0===v?void 0:v.branchLimit)}});function eu(e){if((null==z?void 0:z.id)===void 0)return console.error("Org ID is required");ea({connectionId:T.id,organizationId:null==z?void 0:z.id,workdir:e.supabaseDirectory,supabaseChangesOnly:e.supabaseChangesOnly,branchLimit:Number(e.branchLimit)})}return(0,a.jsxs)("div",{className:"flex flex-col gap-6 px-6 py-4","data-sentry-component":"GitHubIntegrationConnectionForm","data-sentry-source-file":"GitHubIntegrationConnectionForm.tsx",children:[$?(0,a.jsxs)("div",{children:[(0,a.jsx)(X._,{className:"text-foreground",children:"Production branch"}),(0,a.jsx)("p",{className:"text-xs text-foreground-light mb-3",children:"All other branches will be treated as Preview branches"}),(0,a.jsxs)(u.bZ,{children:[(0,a.jsx)(u.Cd,{className:"text-sm",children:"Changing Git branch for Production Branch coming soon"}),(0,a.jsx)(u.X,{className:"text-xs",children:"If you wish to change the Git branch that is used for the Production Branch you will need to disable Branching and opt back in."})]}),(0,a.jsxs)(W.J2,{open:D,onOpenChange:B,modal:!1,children:[(0,a.jsx)(W.xo,{asChild:!0,name:"branch-selector",children:(0,a.jsx)(M.z,{disabled:!0,type:"default",size:"medium",ref:Z,className:(0,K.cn)("justify-start w-80 mt-4",(null==el?void 0:el.git_branch)===void 0?"text-foreground-light":"text"),icon:(null==el?void 0:el.git_branch)&&(0,a.jsx)(P.Z,{className:"w-4 h-4 text-warning",strokeWidth:1}),loading:es||et,iconRight:(0,a.jsx)("span",{className:"grow flex justify-end",children:(0,a.jsx)(k.Z,{size:14})}),children:(null==el?void 0:el.git_branch)||"Select a branch"})}),(0,a.jsx)(W.yk,{className:"p-0",side:"bottom",align:"start",style:{width:null===(y=Z.current)||void 0===y?void 0:y.offsetWidth},children:(0,a.jsxs)(Y.mY,{children:[(0,a.jsx)(Y.sZ,{placeholder:"Find branch..."}),(0,a.jsxs)(Y.e8,{children:[(0,a.jsx)(Y.rb,{children:"No branches found"}),(0,a.jsx)(Y.fu,{children:null==en?void 0:en.map(e=>{let n=e.name===(null==el?void 0:el.git_branch);return(0,a.jsxs)(Y.di,{value:e.name.replaceAll('"',""),className:"cursor-pointer w-full flex items-center justify-between",onSelect:()=>{var n;B(!1),n=e.name,(null==U?void 0:U.parentRef)&&el&&ei({id:el.id,projectRef:U.parentRef,branchName:n,gitBranch:n})},children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[n?(0,a.jsx)(P.Z,{className:"w-4 h-4 text-warning",strokeWidth:1}):(0,a.jsx)(I.Z,{className:"w-4 h-4",strokeWidth:1}),e.name]}),e.name===(null==el?void 0:el.git_branch)&&(0,a.jsx)(E.Z,{})]},e.name)})})]})]})})]})]}):(0,a.jsxs)(u.bZ,{className:"w-full mb-0",variant:"warning",children:[(0,a.jsx)(m.aN,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.Cd,{className:"text-sm",children:"Branching is not enabled"}),(0,a.jsxs)(u.X,{className:"text-xs",children:["This integration has no effect without Branching feature being active.",(0,a.jsx)("br",{}),'Make sure to enable it using "Enable branching" button at the top of the page first.']})]})]}),(0,a.jsx)(J.l0,{...ed,"data-sentry-element":"Form_Shadcn_","data-sentry-source-file":"GitHubIntegrationConnectionForm.tsx",children:(0,a.jsxs)("form",{onSubmit:ed.handleSubmit(eu),className:"flex flex-col gap-6",children:[(0,a.jsx)(J.Wi,{control:ed.control,name:"branchLimit",render:e=>{var n,t,r,i,s,o;let{field:l}=e;return(0,a.jsxs)(J.xJ,{className:"flex flex-col",children:[(0,a.jsx)(J.lX,{className:"!text",children:"Branch limit"}),(0,a.jsx)(J.pf,{className:"text-xs text-foreground-lighter !mt-0 !mb-1",children:"Total number of branches that can be automatically created for this connection."}),(0,a.jsx)(J.NI,{className:"flex gap-3 items-center",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(Q.I,{...l,className:"w-80",disabled:O||!ee,onKeyPress:e=>{"Escape"===e.key&&ed.reset()},type:"number"}),(0,a.jsx)(A.Z,{className:(0,K.cn)("text-foreground-lighter transition hover:text cursor-pointer","w-4 h-4 absolute right-3 top-3","duration-150",l.value!==String(null===(t=T.metadata)||void 0===t?void 0:null===(n=t.supabaseConfig)||void 0===n?void 0:n.branchLimit)?"opacity-100 transition":"opacity-0"),onClick:()=>ed.reset()}),(0,a.jsx)(M.z,{loading:er,className:(0,K.cn)("duration-150 transition",l.value!==String(null===(i=T.metadata)||void 0===i?void 0:null===(r=i.supabaseConfig)||void 0===r?void 0:r.branchLimit)?"opacity-100":"opacity-0"),htmlType:"submit",disabled:l.value===String(null===(o=T.metadata)||void 0===o?void 0:null===(s=o.supabaseConfig)||void 0===s?void 0:s.branchLimit),children:"Update"})]})})]})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"GitHubIntegrationConnectionForm.tsx"}),(0,a.jsx)(J.Wi,{control:ed.control,name:"supabaseDirectory",render:e=>{var n,t,r,i,s,o;let{field:l}=e;return(0,a.jsxs)(J.xJ,{className:"flex flex-col",children:[(0,a.jsx)(J.lX,{className:"!text",children:"Supabase directory"}),(0,a.jsxs)(J.pf,{className:"text-xs text-foreground-lighter !mt-0 !mb-1",children:["Path in your repository where ",(0,a.jsx)("code",{children:"supabase"})," directory for this connection lives."]}),(0,a.jsx)(J.NI,{className:"flex gap-3 items-center",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(Q.I,{...l,disabled:O||!ee,className:"w-80",onKeyPress:e=>{"Escape"===e.key&&ed.reset()}}),(0,a.jsx)(A.Z,{className:(0,K.cn)("text-foreground-lighter transition hover:text cursor-pointer","w-4 h-4 absolute right-3 top-3","duration-150",l.value!==(null===(t=T.metadata)||void 0===t?void 0:null===(n=t.supabaseConfig)||void 0===n?void 0:n.supabaseDirectory)?"opacity-100 transition":"opacity-0"),onClick:()=>ed.reset()}),(0,a.jsx)(M.z,{loading:er,className:(0,K.cn)("duration-150 transition",l.value!==(null===(i=T.metadata)||void 0===i?void 0:null===(r=i.supabaseConfig)||void 0===r?void 0:r.supabaseDirectory)?"opacity-100":"opacity-0"),htmlType:"submit",disabled:""===l.value||l.value===(null===(o=T.metadata)||void 0===o?void 0:null===(s=o.supabaseConfig)||void 0===s?void 0:s.supabaseDirectory),children:"Update"})]})})]})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"GitHubIntegrationConnectionForm.tsx"}),(0,a.jsx)(J.Wi,{control:ed.control,name:"supabaseChangesOnly",render:e=>{let{field:n}=e;return(0,a.jsxs)(J.xJ,{className:"space-y-0 flex gap-x-4",children:[(0,a.jsx)(J.NI,{children:(0,a.jsx)(q.r,{className:"mt-1",disabled:O||!ee,checked:n.value,onCheckedChange:e=>{n.onChange(e),ed.handleSubmit(eu)()}})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(J.lX,{className:"!text",children:"Supabase changes only"}),(0,a.jsxs)(J.pf,{className:"text-xs text-foreground-lighter",children:["Trigger branch creation only when there were changes to ",(0,a.jsx)("code",{children:"supabase"})," ","directory."]})]})]})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"GitHubIntegrationConnectionForm.tsx"})]})})]})},ee=()=>{var e;let{ref:n}=(0,h.UO)(),t=(0,c.Vm)(),r=(0,N.l)(),i=(0,w.x5)(),s=(null==t?void 0:t.parent_project_ref)!==void 0,o=(0,_.Xo)(f.KA.READ,"integrations.github_connections"),d=(0,_.Xo)(f.KA.CREATE,"integrations.github_connections"),u=(0,_.Xo)(f.KA.UPDATE,"integrations.github_connections"),{data:m}=(0,S.q)({organizationId:null==r?void 0:r.id}),{mutateAsync:C}=(0,j.n)({onSuccess:()=>{p.Am.success("Successfully deleted Github connection")}}),P=null!==(e=null==m?void 0:m.filter(e=>s?e.project.ref===t.parent_project_ref:e.project.ref===n))&&void 0!==e?e:[],k=(0,x.useCallback)(()=>{i.setGithubConnectionsOpen(!0)},[i]),I=(0,x.useCallback)(async e=>{if(!(null==r?void 0:r.id)){p.Am.error("Organization not found");return}await C({connectionId:e.id,organizationId:r.id})},[C,null==r?void 0:r.id]);return(0,a.jsx)(l._S,{"data-sentry-element":"ScaffoldContainer","data-sentry-component":"GitHubSection","data-sentry-source-file":"GithubSection.tsx",children:(0,a.jsxs)(l.jX,{"data-sentry-element":"ScaffoldSection","data-sentry-source-file":"GithubSection.tsx",children:[(0,a.jsxs)(l.g$,{title:"GitHub Connections","data-sentry-element":"ScaffoldSectionDetail","data-sentry-source-file":"GithubSection.tsx",children:[(0,a.jsx)(b.U,{content:"\nConnect any of your GitHub repositories to a project.\n","data-sentry-element":"Markdown","data-sentry-source-file":"GithubSection.tsx"}),(0,a.jsx)(et,{title:"github","data-sentry-element":"IntegrationImageHandler","data-sentry-source-file":"GithubSection.tsx"})]}),(0,a.jsx)(l.Lc,{"data-sentry-element":"ScaffoldSectionContent","data-sentry-source-file":"GithubSection.tsx",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.U,{content:"\n\n### How will GitHub connections work?\n\nYou will be able to connect a GitHub repository to a Supabase project.\nThe GitHub app will watch for changes in your repository such as file changes, branch changes as well as pull request activity.\n"}),P.length>0?(0,a.jsx)("ul",{className:"flex flex-col",children:P.map(e=>{var n,t,r,i,o,l,c,d,m,f;return(0,a.jsxs)("div",{className:"relative flex flex-col -gap-[1px] [&>li]:pb-0",children:[(0,a.jsx)(g.z,{showNode:!1,disabled:s||!u,connection:{id:String(e.id),added_by:{id:String(null===(n=e.user)||void 0===n?void 0:n.id),primary_email:null!==(c=null===(t=e.user)||void 0===t?void 0:t.primary_email)&&void 0!==c?c:"",username:null!==(d=null===(r=e.user)||void 0===r?void 0:r.username)&&void 0!==d?d:""},foreign_project_id:String(e.repository.id),supabase_project_ref:e.project.ref,organization_integration_id:"unused",inserted_at:e.inserted_at,updated_at:e.updated_at,metadata:{name:e.repository.name}},type:"GitHub",onDeleteConnection:I,className:"!rounded-b-none !mb-0"},e.id),(0,a.jsx)("div",{className:"border-b border-l border-r rounded-b-lg",children:(0,a.jsx)($,{disabled:s||!u,connection:{id:String(e.id),added_by:{id:String(null===(i=e.user)||void 0===i?void 0:i.id),primary_email:null!==(m=null===(o=e.user)||void 0===o?void 0:o.primary_email)&&void 0!==m?m:"",username:null!==(f=null===(l=e.user)||void 0===l?void 0:l.username)&&void 0!==f?f:""},foreign_project_id:String(e.repository.id),supabase_project_ref:e.project.ref,organization_integration_id:"unused",inserted_at:e.inserted_at,updated_at:e.updated_at,metadata:{name:e.repository.name,supabaseConfig:{supabaseDirectory:e.workdir,supabaseChangesOnly:e.supabase_changes_only,branchLimit:e.branch_limit}}}})})]},e.id)})}):(0,a.jsx)(v.FP,{onClick:k,orgSlug:null==r?void 0:r.slug,showNode:!1,disabled:s||!d,children:"Add new project connection"})]}):(0,a.jsx)(y.Z,{resourceText:"view this organization's GitHub connections"})})]})})},en=t(57803);let et=e=>{let{title:n}=e;return(0,a.jsx)("img",{className:"border rounded-lg shadow w-full sm:w-48 mt-6 border-body",src:"".concat(d.GW,"/img/integrations/covers/").concat(n,"-cover.png"),alt:"".concat(n," cover"),"data-sentry-component":"IntegrationImageHandler","data-sentry-source-file":"IntegrationsSettings.tsx"})};var ea=()=>{let e=(0,c.Vm)(),n=(0,c.N$)(null==e?void 0:e.parent_project_ref),t=(null==e?void 0:e.parent_project_ref)!==void 0;return(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsx)(l._S,{children:(0,a.jsxs)(u.bZ,{variant:"default",className:"mt-6",children:[(0,a.jsx)(m.aN,{}),(0,a.jsx)(u.Cd,{children:"You are currently on a preview branch of your project"}),(0,a.jsxs)(u.X,{children:["To adjust your project's integration settings, you may return to your"," ",(0,a.jsx)(i(),{href:"/project/".concat(null==n?void 0:n.ref,"/settings/general"),className:"text-brand",children:"main branch"}),"."]})]})}),(0,a.jsx)(ee,{"data-sentry-element":"GitHubSection","data-sentry-source-file":"IntegrationsSettings.tsx"}),(0,a.jsx)(l.I7,{"data-sentry-element":"ScaffoldDivider","data-sentry-source-file":"IntegrationsSettings.tsx"}),(0,a.jsx)(en.Z,{isProjectScoped:!0,"data-sentry-element":"VercelSection","data-sentry-source-file":"IntegrationsSettings.tsx"}),(0,a.jsx)(o.Z,{"data-sentry-element":"SidePanelVercelProjectLinker","data-sentry-source-file":"IntegrationsSettings.tsx"}),(0,a.jsx)(s.Z,{"data-sentry-element":"SidePanelGitHubRepoLinker","data-sentry-source-file":"IntegrationsSettings.tsx"})]})}},57803:function(e,n,t){t.d(n,{Z:function(){return Z}});var a=t(97458),r=t(36030),i=t(89462),s=t.n(i),o=t(52983),l=t(34549),c=t(40540),d=t(54434),u=t(90635),m=t(3064),f=t(97847),x=t(50918),p=t(72070),h=t(36457),g=t(64618),v=t(64472),b=t(21119);async function y(e,n){let{organization_integration_id:t,id:a}=e;if(!t)throw Error("organization_integration_id is required");let{data:r,error:i}=await (0,v.IV)("/platform/integrations/vercel/connections/{connection_id}",{params:{path:{connection_id:a}},signal:n});return i&&(0,v.S3)(i),r}let j=function(){let{onSuccess:e,onError:n,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,h.NL)();return(0,g.D)(e=>y(e),{async onSuccess(n,t,r){await Promise.all([a.invalidateQueries(b.F.integrationsList()),a.invalidateQueries(b.F.integrationsListWithOrg(t.orgSlug)),a.invalidateQueries(b.F.vercelProjectList(t.organization_integration_id)),a.invalidateQueries(b.F.vercelConnectionsList(t.organization_integration_id))]),await (null==e?void 0:e(n,t,r))},async onError(e,t,a){void 0===n?l.Am.error("Failed to delete Vercel connection: ".concat(e.message)):n(e,t,a)},...t})};var S=t(11001),_=t(29375),N=t(7611),w=t(14612),C=t(9618),P=t(2309),k=t(28548),I=t(53355),E=t(94997),A=t(43826),V=t(52585),L=t(86848),R=t(5394),F=t(85085);async function O(e){let{id:n,envSyncTargets:t,publicEnvVarPrefix:a}=e,{data:r,error:i}=await (0,v.r$)("/platform/integrations/vercel/connections/{connection_id}",{params:{path:{connection_id:n}},body:{env_sync_targets:t,public_env_var_prefix:a}});return i&&(0,v.S3)(i),r}let T=function(){let{onSuccess:e,onError:n,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,h.NL)();return(0,g.D)(e=>O(e),{async onSuccess(n,t,r){await a.invalidateQueries(b.F.vercelConnectionsList(t.organizationIntegrationId)),await (null==e?void 0:e(n,t,r))},async onError(e,t,a){void 0===n?l.Am.error("Failed to update Vercel connection: ".concat(e.message)):n(e,t,a)},...t})};var z=t(1006),U=t(8607),G=t(94823),D=t(21758),B=e=>{var n;let{disabled:t,connection:r,integration:i}=e,o=(0,N.l)(),c=(null==o?void 0:o.managed_by)==="vercel-marketplace"?[]:null!==(n=r.env_sync_targets)&&void 0!==n?n:[],d=R.Ry({environmentVariablesProduction:R.O7().default(c.includes("production")),environmentVariablesPreview:R.O7().default(c.includes("preview")),environmentVariablesDevelopment:R.O7().default(c.includes("development")),publicEnvVarPrefix:R.Z_().optional()}),u=(0,L.cI)({resolver:(0,V.F)(d),defaultValues:{environmentVariablesProduction:c.includes("production"),environmentVariablesPreview:c.includes("preview"),environmentVariablesDevelopment:c.includes("development"),publicEnvVarPrefix:r.public_env_var_prefix}}),{mutate:m,isLoading:f}=T({onSuccess:()=>{u.reset(u.getValues()),l.Am.success("Updated Vercel connection")}}),x="vercel-connection-form-".concat(r.id);return(0,a.jsx)(z.l0,{...u,"data-sentry-element":"Form_Shadcn_","data-sentry-component":"VercelIntegrationConnectionForm","data-sentry-source-file":"VercelIntegrationConnectionForm.tsx",children:(0,a.jsx)("form",{id:x,onSubmit:u.handleSubmit(function(e){var n;let{environmentVariablesProduction:t,environmentVariablesPreview:a,environmentVariablesDevelopment:s}=e,o=[];t&&o.push("production"),a&&o.push("preview"),s&&o.push("development"),m({id:r.id,envSyncTargets:o,publicEnvVarPrefix:null===(n=e.publicEnvVarPrefix)||void 0===n?void 0:n.trim(),organizationIntegrationId:i.id})}),className:"w-full space-y-6",children:(0,a.jsxs)("div",{className:"px-6 py-4 flex flex-col gap-y-4",children:[(0,a.jsx)("div",{className:"flex flex-col gap-4",children:(null==o?void 0:o.managed_by)==="vercel-marketplace"?(0,a.jsxs)(U.bZ,{children:[(0,a.jsx)(U.Cd,{className:"text-sm",children:"Vercel Marketplace managed project"}),(0,a.jsxs)(U.X,{className:"text-xs",children:["This project is managed via Vercel Marketplace. Environment variables are automatically synchronized for your connected Vercel projects. This integration purpose is synchronizing preview deployments environment variables with our"," ",(0,a.jsx)(s(),{target:"_blank",rel:"noreferrer",href:"https://supabase.com/docs/guides/platform/branching",className:"underline",children:"Branching"})," ","feature."]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"text-foreground text-sm",children:"Sync environment variables for selected target environments"}),(0,a.jsx)(z.Wi,{control:u.control,name:"environmentVariablesProduction",render:e=>{let{field:n}=e;return(0,a.jsxs)(z.xJ,{className:"space-y-0 flex gap-x-4",children:[(0,a.jsx)(z.NI,{children:(0,a.jsx)(G.r,{disabled:t,className:"mt-1",checked:n.value,onCheckedChange:n.onChange})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(z.lX,{className:"!text",children:"Production"}),(0,a.jsxs)(z.pf,{className:"text-xs text-foreground-lighter",children:["Sync environment variables for ",(0,a.jsx)("code",{children:"production"})," environment."]})]})]})}}),(0,a.jsx)(z.Wi,{control:u.control,name:"environmentVariablesPreview",render:e=>{let{field:n}=e;return(0,a.jsxs)(z.xJ,{className:"space-y-0 flex gap-x-4",children:[(0,a.jsx)(z.NI,{children:(0,a.jsx)(G.r,{disabled:t,className:"mt-1",checked:n.value,onCheckedChange:n.onChange})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(z.lX,{className:"!text",children:"Preview"}),(0,a.jsxs)(z.pf,{className:"text-xs text-foreground-lighter",children:["Sync environment variables for ",(0,a.jsx)("code",{children:"preview"})," environment."]})]})]})}}),(0,a.jsx)(z.Wi,{control:u.control,name:"environmentVariablesDevelopment",render:e=>{let{field:n}=e;return(0,a.jsxs)(z.xJ,{className:"space-y-0 flex gap-x-4",children:[(0,a.jsx)(z.NI,{children:(0,a.jsx)(G.r,{disabled:t,className:"mt-1",checked:n.value,onCheckedChange:n.onChange})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(z.lX,{className:"!text",children:"Development"}),(0,a.jsxs)(z.pf,{className:"text-xs text-foreground-lighter",children:["Sync environment variables for ",(0,a.jsx)("code",{children:"development"})," environment."]})]})]})}})]})}),(0,a.jsx)("h5",{className:"mt-2 text-foreground text-sm",children:"Customize public environment variable prefix"}),(0,a.jsx)("div",{className:"flex flex-col gap-4",children:(0,a.jsx)(z.Wi,{control:u.control,name:"publicEnvVarPrefix",render:e=>{let{field:n}=e;return(0,a.jsxs)(z.xJ,{className:"grid gap-2 md:grid md:grid-cols-12 space-y-0",children:[(0,a.jsx)(z.lX,{className:"flex flex-col space-y-2 col-span-4 text-sm justify-center text-foreground-light",children:"Prefix"}),(0,a.jsx)(z.NI,{className:"col-span-8",children:(0,a.jsx)(D.I,{...n,className:"w-full",disabled:t,placeholder:"An empty prefix will result in no public env vars"})}),(0,a.jsxs)(z.pf,{className:"col-start-5 col-span-8 text-xs",children:["e.g."," ",(0,a.jsx)("code",{className:"cursor-pointer",role:"button",onClick:()=>{n.onChange("NEXT_PUBLIC_")},children:"NEXT_PUBLIC_"}),","," ",(0,a.jsx)("code",{className:"cursor-pointer",role:"button",onClick:()=>{n.onChange("VITE_PUBLIC_")},children:"VITE_PUBLIC_"}),","," ",(0,a.jsx)("code",{className:"cursor-pointer",role:"button",onClick:()=>{n.onChange("PUBLIC_")},children:"PUBLIC_"}),", etc."]}),(0,a.jsx)(z.zG,{className:"col-start-5 col-span-8"})]})},"data-sentry-element":"FormField_Shadcn_","data-sentry-source-file":"VercelIntegrationConnectionForm.tsx"})}),u.formState.isDirty?(0,a.jsxs)("p",{className:"mt-2 text-sm text-warning-600",children:["Note: Changing these settings will ",(0,a.jsx)("strong",{children:"not"})," trigger a resync of environment variables."]}):(0,a.jsx)("div",{className:"mt-2 h-5 w-full"}),(0,a.jsx)(F.i,{disabled:t,form:x,hasChanges:u.formState.isDirty,isSubmitting:f,handleReset:()=>u.reset(),"data-sentry-element":"FormActions","data-sentry-source-file":"VercelIntegrationConnectionForm.tsx"})]})})})},Z=e=>{var n;let{isProjectScoped:t}=e,i=(0,w.Vm)(),h=(0,N.l)(),{data:g}=(0,p.T)({orgSlug:null==h?void 0:h.slug}),v=(0,k.x5)(),b=(null==i?void 0:i.parent_project_ref)!==void 0,y=(0,_.Xo)(c.KA.READ,"integrations.vercel_connections"),V=(0,_.Xo)(c.KA.CREATE,"integrations.vercel_connections"),L=(0,_.Xo)(c.KA.UPDATE,"integrations.vercel_connections"),{mutate:R}=j({onSuccess:()=>{l.Am.success("Successfully deleted Vercel connection")}}),F=(0,o.useMemo)(()=>null==g?void 0:g.filter(e=>"Vercel"===e.integration.name).map(e=>{if(e.metadata&&"Vercel"===e.integration.name){let n=e.metadata.account.avatar||"Team"!==e.metadata.account.type?"https://vercel.com/api/www/avatar/".concat(e.metadata.account.avatar,"?s=48"):"https://vercel.com/api/www/avatar?teamId=".concat(e.metadata.account.team_id,"&s=48");e.metadata.account.avatar=n}return e}),[g]),O=null==F?void 0:F[0],{data:T}=(0,S.t)({organization_integration_id:null==O?void 0:O.id},{enabled:(null==O?void 0:O.id)!==void 0}),z=null!==(n=null==T?void 0:T.length)&&void 0!==n?n:0,U=(0,o.useCallback)(e=>{v.setVercelConnectionsIntegrationId(e),v.setVercelConnectionsOpen(!0)},[v]),G=(0,o.useCallback)(async e=>{R({id:e.id,organization_integration_id:e.organization_integration_id,orgSlug:null==h?void 0:h.slug})},[R,null==h?void 0:h.slug]),D=z>0&&void 0!==O?"\nYour Vercel connection has access to ".concat(z," Vercel Projects.\nYou can change the scope of the access for Supabase by configuring\n[here](").concat((0,P.H)(O),").\n"):"",Z=(t?null==O?void 0:O.connections.filter(e=>e.supabase_project_ref===(null==i?void 0:i.ref)):null==O?void 0:O.connections)||[],H="".concat(Z.length," project ").concat((0,C._6)(Z.length,"connection")," ");return(0,a.jsx)(f._S,{"data-sentry-element":"ScaffoldContainer","data-sentry-component":"VercelSection","data-sentry-source-file":"VercelSection.tsx",children:(0,a.jsxs)(f.jX,{"data-sentry-element":"ScaffoldSection","data-sentry-source-file":"VercelSection.tsx",children:[(0,a.jsxs)(f.g$,{title:"Vercel Integration","data-sentry-element":"ScaffoldSectionDetail","data-sentry-source-file":"VercelSection.tsx",children:[(0,a.jsx)(m.U,{content:"\n\nConnect your Vercel teams to your Supabase organization.\n","data-sentry-element":"Markdown","data-sentry-source-file":"VercelSection.tsx"}),(0,a.jsx)(A.B,{title:"vercel","data-sentry-element":"IntegrationImageHandler","data-sentry-source-file":"VercelSection.tsx"})]}),(0,a.jsx)(f.Lc,{"data-sentry-element":"ScaffoldSectionContent","data-sentry-source-file":"VercelSection.tsx",children:y?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.U,{content:"\n\n### How does the Vercel integration work?\n\nSupabase will keep your environment variables up to date in each of the projects you assign to a Supabase project.\nYou can also link multiple Vercel Projects to the same Supabase project.\n"}),O?(0,a.jsxs)("div",{children:[(0,a.jsx)(u.ML,{title:"Vercel",integration:O}),Z.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.WY,{title:H,markdown:"Repository connections for Vercel"}),(0,a.jsx)("ul",{className:"flex flex-col",children:Z.map(e=>(0,a.jsxs)("div",{className:(0,I.cn)(t&&"relative flex flex-col -gap-[1px] [&>li]:pb-0"),children:[(0,a.jsx)(d.z,{connection:e,disabled:b||!L,type:"Vercel",onDeleteConnection:G,className:(0,I.cn)(t&&"!rounded-b-none !mb-0")}),t?(0,a.jsx)("div",{className:"relative pl-8 ml-6 border-l border-muted pb-6",children:(0,a.jsx)("div",{className:"border-b border-l border-r rounded-b-lg",children:(0,a.jsx)(B,{connection:e,integration:O,disabled:b||!L})})}):null]},e.id))})]}):(0,a.jsx)(u.WY,{title:H,className:"pb-0",markdown:"Repository connections for Vercel"}),(0,a.jsx)(u.FP,{orgSlug:null==h?void 0:h.slug,disabled:b||!V,onClick:()=>U(O.id),children:"Add new project connection"})]},O.id):(0,a.jsx)("div",{children:(0,a.jsx)(E.z,{icon:(0,a.jsx)(r.Z,{}),asChild:!b,type:"default",disabled:b,children:b?(0,a.jsx)("p",{children:"Install Vercel Integration"}):(0,a.jsx)(s(),{href:"https://vercel.com/integrations/supabase",target:"_blank",rel:"noreferrer",children:"Install Vercel Integration"})})}),D&&(0,a.jsx)(m.U,{extLinks:!0,content:D,className:"text-foreground-lighter"})]}):(0,a.jsx)(x.Z,{resourceText:"view this organization's Vercel connections"})})]})})}},97847:function(e,n,t){t.d(n,{CG:function(){return S},FW:function(){return m},I7:function(){return x},Lc:function(){return v},RN:function(){return h},Wv:function(){return y},_S:function(){return c},g$:function(){return g},gW:function(){return _},jX:function(){return f},q7:function(){return u},qw:function(){return p},s_:function(){return l},tM:function(){return b},tU:function(){return d},ur:function(){return j},y:function(){return o}});var a=t(97458),r=t(52983),i=t(21513),s=t(53355);let o="mx-auto w-full max-w-[1200px]",l="px-4 md:px-6 lg:px-14 xl:px-24 2xl:px-28",c=(0,r.forwardRef)((e,n)=>{let{className:t,bottomPadding:r,size:o="default",...c}=e,d=(0,i.oJ)();return(0,a.jsx)("div",{ref:n,...c,className:(0,s.cn)("mx-auto w-full",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[o],l,r&&"pb-16",d.open?"xl:px-6":"",t)})}),d=(0,r.forwardRef)((e,n)=>{let{className:t,...r}=e;return(0,a.jsx)("header",{...r,ref:n,className:(0,s.cn)("w-full","flex-col gap-3 py-6",t)})}),u=(0,r.forwardRef)((e,n)=>{let{className:t,...r}=e;return(0,a.jsx)("h1",{ref:n,...r,className:(0,s.cn)("text-2xl",t)})}),m=(0,r.forwardRef)((e,n)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:n,...r,className:(0,s.cn)("text-sm text-foreground-light",t)})}),f=(0,r.forwardRef)((e,n)=>{let{className:t,isFullWidth:r,topPadding:i,...o}=e;return(0,a.jsx)("div",{ref:n,...o,className:(0,s.cn)("flex flex-col first:pt-12 py-6",r?"w-full":"gap-3 lg:grid md:grid-cols-12",t)})}),x=(0,r.forwardRef)((e,n)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:n,...r,className:(0,s.cn)("w-full h-px bg-border",t)})}),p=(0,r.forwardRef)((e,n)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:n,...r,className:(0,s.cn)("text-foreground text-xl",t)})}),h=(0,r.forwardRef)((e,n)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:n,...r,className:(0,s.cn)("text-sm text-foreground-light",t)})}),g=(0,r.forwardRef)((e,n)=>{let{className:t,children:r,title:i,...o}=e;return(0,a.jsxs)("div",{ref:n,...o,className:(0,s.cn)("col-span-4 xl:col-span-5 prose text-sm",t),children:[i&&(0,a.jsx)("h2",{children:i}),r]})}),v=(0,r.forwardRef)((e,n)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:n,...r,className:(0,s.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",t)})}),b=(0,r.forwardRef)((e,n)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:n,...r,className:(0,s.cn)("flex flex-col gap-3 items-center",t)})}),y=(0,r.forwardRef)((e,n)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:n,...r,className:(0,s.cn)("flex w-full items-center",t)})}),j=(0,r.forwardRef)((e,n)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:n,...r,className:(0,s.cn)("flex flex-row gap-3",t)})}),S=(0,r.forwardRef)((e,n)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:n,...r,className:(0,s.cn)("flex flex-col gap-3","min-w-[420px]",t)})}),_=(0,r.forwardRef)((e,n)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:n,...r,className:(0,s.cn)(o,l,"my-8 flex flex-col gap-8",t)})});d.displayName="ScaffoldHeader",u.displayName="ScaffoldTitle",m.displayName="ScaffoldDescription",c.displayName="ScaffoldContainer",x.displayName="ScaffoldDivider",f.displayName="ScaffoldSection",S.displayName="ScaffoldColumn",g.displayName="ScaffoldSectionDetail",v.displayName="ScaffoldSectionContent",b.displayName="ScaffoldFilterAndContent",y.displayName="ScaffoldActionsContainer",j.displayName="ScaffoldActionsGroup",_.displayName="ScaffoldContainerLegacy",p.displayName="ScaffoldSectionTitle",h.displayName="ScaffoldSectionDescription"},26355:function(e,n,t){t.d(n,{B:function(){return i}});var a=t(97458),r=t(95759);let i=(0,a.jsx)("div",{className:"flex items-center justify-center rounded bg-black p-1",children:(0,a.jsx)("svg",{className:"m-auto fill-current text-white",width:"12px",height:"12px",viewBox:"0 0 1155 1000",children:(0,a.jsx)("path",{d:"M577.344 0L1154.69 1000H0L577.344 0Z"})})});r.Z},85085:function(e,n,t){t.d(n,{i:function(){return i}});var a=t(97458),r=t(94997);let i=e=>{let{form:n,hasChanges:t,handleReset:i,helper:s,disabled:o=!1,isSubmitting:l,submitText:c="Save"}=e,d=l||o||!t&&void 0!==t;return(0,a.jsxs)("div",{className:["flex w-full items-center gap-2",s?"justify-between":"justify-end"].join(" "),"data-sentry-component":"FormActions","data-sentry-source-file":"FormActions.tsx",children:[s&&(0,a.jsx)("span",{className:"text-sm text-foreground-lighter",children:s}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.z,{disabled:d,type:"default",htmlType:"reset",onClick:()=>i(),"data-sentry-element":"Button","data-sentry-source-file":"FormActions.tsx",children:"Cancel"}),(0,a.jsx)(r.z,{form:n,type:"primary",htmlType:"submit",disabled:d,loading:l,"data-sentry-element":"Button","data-sentry-source-file":"FormActions.tsx",children:c})]})]})}},50918:function(e,n,t){var a=t(97458),r=t(77070);n.Z=e=>{let{resourceText:n,isFullPage:t=!1}=e,i=()=>(0,a.jsx)("div",{className:"block w-full rounded border border-opacity-20 py-4 px-6 border-overlay bg-surface-200","data-sentry-component":"NoPermissionMessage","data-sentry-source-file":"NoPermission.tsx",children:(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(r.Z,{size:20,"data-sentry-element":"AlertCircle","data-sentry-source-file":"NoPermission.tsx"})}),(0,a.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm",children:["You need additional permissions to ",n]}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Contact your organization owner or administrator for assistance."})})]})})]})});return t?(0,a.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,a.jsx)("div",{className:"w-[550px]",children:(0,a.jsx)(i,{})})}):(0,a.jsx)(i,{})}},94823:function(e,n,t){t.d(n,{r:function(){return d}});var a=t(97458),r=t(56384),i=t(31706),s=t(52983),o=t(53355);let l=(0,i.j)("peer inline-flex shrink-0 cursor-pointer items-center rounded-full border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-brand data-[state=checked]:hover:bg-brand-600/90 data-[state=unchecked]:bg-control data-[state=unchecked]:hover:bg-border",{variants:{size:{small:"h-[16px] w-[28px]",medium:"h-[20px] w-[34px]",large:"h-[24px] w-[44px]"}},defaultVariants:{size:"medium"}}),c=(0,i.j)("pointer-events-none block rounded-full bg-foreground-lighter data-[state=checked]:bg-white shadow-lg ring-0 transition-transform",{variants:{size:{small:"h-[12px] w-[12px] data-[state=checked]:translate-x-[13px] data-[state=unchecked]:translate-x-[1px]",medium:"h-[16px] w-[16px] data-[state=checked]:translate-x-[15px] data-[state=unchecked]:translate-x-[1px]",large:"h-[18px] w-[18px] data-[state=checked]:translate-x-[22px] data-[state=unchecked]:translate-x-[3px]"}},defaultVariants:{size:"medium"}}),d=s.forwardRef((e,n)=>{let{className:t,size:i,...s}=e;return(0,a.jsx)(r.fC,{className:(0,o.cn)(l({size:i}),t),...s,ref:n,children:(0,a.jsx)(r.bU,{className:(0,o.cn)(c({size:i}))})})});d.displayName=r.fC.displayName}}]);